/* ======================
   Design Tokens
====================== */
:root{
  --bg:#f5f5f5;
  --text:#222;
  --muted:#666;
  --card:#fff;
  --border:#e6e6e6;
  --accent:#111;
  --btn:#333;
  --btnText:#fff;
  --radius:16px;
  --shadow:0 6px 18px rgba(0,0,0,.08);
  --gap:1rem;
}

/* ======================
   Base
====================== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:'Segoe UI', system-ui, -apple-system, Roboto, Arial, sans-serif;
  background:var(--bg); color:var(--text);
  line-height:1.45;
}
img{max-width:100%; height:auto; display:block}
a{color:inherit}
.container{width:90%; max-width:1200px; margin:0 auto} /* was 1000px */

/* Buttons */
.button{
  display:inline-block; background:var(--btn); color:var(--btnText);
  padding:.6rem .9rem; border-radius:10px; text-decoration:none; font-weight:600;
  transition:transform .15s ease, opacity .15s ease;
}
.button:hover{transform:translateY(-1px); opacity:.9}
.button.small{padding:.45rem .7rem; font-size:.9rem}

/* ======================
   Nav
====================== */
.navbar{
  position:sticky; top:0; z-index:1000; background:#333; padding:.5rem 0;
  box-shadow:0 2px 10px rgba(0,0,0,.15);
}
.nav-container{display:flex; justify-content:center; align-items:center}
.nav-links{list-style:none; display:flex; gap:1.2rem; margin:0; padding:0}
.nav-links a{color:#fff; text-decoration:none; font-weight:500}
.nav-links a:hover{text-decoration:underline}

/* ======================
   Hero
====================== */
.hero{background:var(--accent); color:#fff; padding:2.25rem 0; text-align:center}
.hero h1{margin:0; font-size:2rem; letter-spacing:.5px}

/* ======================
   Merch Grid (centered, much larger + portrait images)
====================== */
.merch-grid{padding:2rem 0}
.merch-grid h2{margin:0 0 1rem 0; text-align:center}

/* Wider grid + larger columns so shirt designs are visible */
.merch-grid .grid{
  display:grid;
  grid-template-columns:repeat(2, minmax(360px, 1fr)); /* was 320px */
  gap:var(--gap);
  justify-content:center;
  max-width:1080px;           /* was 900px */
  margin:0 auto;
}

.merch-item{
  background:var(--card); border:1px solid var(--border); border-radius:var(--radius);
  padding:1rem; box-shadow:var(--shadow);
  display:flex; flex-direction:column; gap:.75rem; align-items:center;
}

/* Use portrait ratio + contain so the shirt art isn't cropped */
.merch-item img{
  width:100%;
  max-width:none;
  height:auto;
  aspect-ratio:3 / 4;         /* portrait for apparel */
  object-fit:contain;          /* show full design */
  background:#fff;             /* clean backdrop behind transparent areas */
  border-radius:12px;
  border:1px solid var(--border);
}

.view-all-link{margin-top:1rem; text-align:center}

/* ======================
   About / Intro
====================== */
.about-authors{padding:1rem 0 0 0}
.intro{text-align:center; margin:1.25rem 0}
.intro h2{margin:.2rem 0}
.best-sellers-sub{color:var(--muted); margin:.25rem 0 0 0}

/* ======================
   Authors
====================== */
.authors{
  display:grid; grid-template-columns:repeat(3,1fr); gap:var(--gap); margin:1rem 0 2rem;
}
.author-card{
  background:var(--card); border:1px solid var(--border); border-radius:var(--radius);
  padding:1rem; text-align:center; box-shadow:var(--shadow);
}
.author-card img{
  width:120px; height:120px; object-fit:cover; border-radius:50%; margin:0 auto .75rem;
}
.author-card h3{margin:.2rem 0 .25rem}
.author-card p{margin:.25rem 0 .75rem; color:var(--muted)}

/* ======================
   Best Sellers (Tabs + Grid)
====================== */
.best-sellers{padding:2rem 0}
.bs-tabs{margin-top:.5rem}

/* Radios (hidden) */
.bs-tab-radio{position:absolute; left:-9999px; opacity:0}

/* Tab labels */
.bs-tab-labels{
  display:flex; flex-wrap:wrap; gap:.5rem; justify-content:center; margin:.75rem 0 1rem;
}
.bs-tab{
  padding:.5rem .85rem; border-radius:999px; background:#e9e9e9; cursor:pointer;
  font-weight:600; user-select:none; transition:background .2s ease, color .2s ease;
  border:1px solid #ddd;
}
#bs-all:checked ~ .bs-tab-labels label[for="bs-all"],
#bs-finance:checked ~ .bs-tab-labels label[for="bs-finance"],
#bs-scifi:checked ~ .bs-tab-labels label[for="bs-scifi"],
#bs-kids:checked ~ .bs-tab-labels label[for="bs-kids"],
#bs-activity:checked ~ .bs-tab-labels label[for="bs-activity"]{
  background:#111; color:#fff; border-color:#111;
}

/* Panels show/hide */
.bs-panels .bs-panel{display:none}
#bs-all:checked ~ .bs-panels #panel-all,
#bs-finance:checked ~ .bs-panels #panel-finance,
#bs-scifi:checked ~ .bs-panels #panel-scifi,
#bs-kids:checked ~ .bs-panels #panel-kids,
#bs-activity:checked ~ .bs-panels #panel-activity{display:block}

/* ======================
   Carousel Rows (force overflow + snap)
====================== */
.bs-nav{
  display:flex; align-items:center; position:relative;
  padding:0 2rem; /* room for arrows */
}
.bs-nav .bs-grid{
  display:flex;
  gap:var(--gap);
  overflow-x:auto;
  -webkit-overflow-scrolling:touch; /* iOS momentum */
  scroll-behavior:smooth;
  flex-wrap:nowrap;                 /* critical: no wrapping */
  padding:.25rem 0;
  scrollbar-width:none;             /* Firefox hide */
  scroll-snap-type:x mandatory;     /* snap per card */
}
.bs-nav .bs-grid::-webkit-scrollbar{display:none} /* WebKit hide */

/* Fixed card width so overflow exists */
.bs-nav .bs-grid .bs-item{
  flex:0 0 240px;
  min-width:240px;
  scroll-snap-align:start;
}

/* Cards (shared) */
.bs-item{
  background:var(--card); border:1px solid var(--border); border-radius:var(--radius);
  box-shadow:var(--shadow); padding:0 0 .9rem 0; text-align:center; position:relative;
}
.rank-badge{
  position:absolute; top:.5rem; left:.5rem; background:#111; color:#fff;
  font-weight:700; padding:.2rem .45rem; border-radius:8px; font-size:.85rem
}
.cover-wrap{display:block; overflow:hidden; border-top-left-radius:var(--radius); border-top-right-radius:var(--radius)}
.bs-item img{
  width:100%; aspect-ratio:2/3; object-fit:cover;
  transition:transform .25s ease;
}
.bs-item:hover img{transform:scale(1.02)}
.book-title{font-size:1rem; margin:.7rem .75rem .25rem}
.book-title a{text-decoration:none}
.book-author{margin:0 0 .6rem; color:var(--muted); font-size:.95rem}

/* Arrow buttons */
.bs-prev, .bs-next{
  background:rgba(0,0,0,.5); border:none; color:#fff; font-size:2rem; line-height:1;
  cursor:pointer; padding:.4rem .7rem; border-radius:50%; position:absolute; top:50%;
  transform:translateY(-50%); z-index:2;
}
.bs-prev{left:.25rem}
.bs-next{right:.25rem}
.bs-prev:hover,.bs-next:hover{background:rgba(0,0,0,.7)}

/* ======================
   New Releases
====================== */
.new-releases .bs-grid{
  display:grid; grid-template-columns:repeat(4,1fr); gap:var(--gap);
}
.new-releases .bs-item{min-width:auto; max-width:none}

/* ======================
   Footer (centered)
====================== */
footer{
  background:#111; color:#ccc; margin-top:2rem; padding:2rem 0;
}
footer .container{
  display:flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
}
footer p{margin:.2rem 0 1rem}
.footer-links{margin:.5rem 0 1rem}
.footer-links a{color:#ddd; text-decoration:none}
.footer-links a:hover{text-decoration:underline}
.social-icons{display:flex; gap:.75rem; justify-content:center}
.social-icons img{width:24px; height:24px; filter:invert(1)}

/* ======================
   Utilities
====================== */
.view-more-category{ text-align:center; margin-top:1.25rem }
.bs-grid[aria-live="polite"]{scrollbar-gutter:stable}

/* ======================
   Motion Preferences
====================== */
@media (prefers-reduced-motion: reduce){
  .bs-nav .bs-grid{scroll-behavior:auto}
  .button{transition:none}
  .bs-item img{transition:none}
}

/* ======================
   Responsive
====================== */
@media (max-width: 900px){
  .authors{grid-template-columns:repeat(2,1fr)}
  .new-releases .bs-grid{grid-template-columns:repeat(2,1fr)}
  .bs-nav{padding:0 1.5rem}
}
@media (max-width: 640px){
  .nav-links{gap:.9rem}
  .authors{grid-template-columns:1fr}
  .merch-grid .grid{
    grid-template-columns:1fr;  /* single column on phones */
    max-width:480px;            /* was 420px */
  }
  .new-releases .bs-grid{grid-template-columns:1fr}
  /* slightly narrower fixed cards on small screens */
  .bs-nav .bs-grid .bs-item{flex-basis:220px; min-width:220px}
  .bs-prev{left:.15rem} .bs-next{right:.15rem}
}

/* ======================
   Daily Word Puzzle (embed helpers; safe + isolated)
====================== */
.daily-puzzle { padding:2rem 0; }
.daily-puzzle h2 { margin:.2rem 0 1rem; }
.daily-puzzle iframe {
  width:100%;
  height:820px;
  border:0;
  border-radius:16px;
  box-shadow:var(--shadow);
  background:#fff;
}
